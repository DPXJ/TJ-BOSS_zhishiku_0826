# ğŸš€ æ–¹æ¡ˆ1é…ç½®æŒ‡å—ï¼šFastGPT SDKé£æ ¼æœåŠ¡å™¨

## ğŸ“‹ æ¦‚è¿°

æ–¹æ¡ˆ1ä½¿ç”¨äº†ä¸€ä¸ªä¼˜åŒ–çš„ä»£ç†æœåŠ¡å™¨ï¼Œæ¨¡æ‹ŸFastGPT SDKçš„åŠŸèƒ½ï¼Œæä¾›æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œé…ç½®ç®¡ç†ã€‚

## ğŸ”§ é…ç½®æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨SDKé£æ ¼æœåŠ¡å™¨

```bash
# å¯åŠ¨SDKé£æ ¼æœåŠ¡å™¨
npm run start:sdk
```

ä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
```
ğŸš€ FastGPT SDKé£æ ¼æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ
ğŸ“¡ æœåŠ¡åœ°å€: http://localhost:3001
ğŸ”§ åŸºç¡€URL: https://api.fastgpt.in
ğŸ”‘ APIå¯†é’¥: æœªè®¾ç½®
ğŸ’¡ å¥åº·æ£€æŸ¥: http://localhost:3001/health
âš™ï¸ é…ç½®æ¥å£: POST http://localhost:3001/api/config
```

### ç¬¬äºŒæ­¥ï¼šé…ç½®APIå¯†é’¥

#### æ–¹æ³•1ï¼šä½¿ç”¨é…ç½®è„šæœ¬ï¼ˆæ¨èï¼‰

1. **ç¼–è¾‘é…ç½®è„šæœ¬**
   ```bash
   # æ‰“å¼€ setup-api-key.js æ–‡ä»¶
   # å°†ç¬¬4è¡Œçš„ API_KEY æ›¿æ¢ä¸ºä½ çš„å®é™…APIå¯†é’¥
   const API_KEY = 'fastgpt-your-actual-api-key-here';
   ```

2. **è¿è¡Œé…ç½®è„šæœ¬**
   ```bash
   node setup-api-key.js
   ```

#### æ–¹æ³•2ï¼šä½¿ç”¨APIæ¥å£

```bash
# ä½¿ç”¨curlå‘½ä»¤é…ç½®APIå¯†é’¥
curl -X POST http://localhost:3001/api/config \
  -H "Content-Type: application/json" \
  -d '{"apiKey": "fastgpt-your-actual-api-key-here"}'
```

#### æ–¹æ³•3ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡

```bash
# Windows PowerShell
$env:FASTGPT_API_KEY="fastgpt-your-actual-api-key-here"
npm run start:sdk

# Windows CMD
set FASTGPT_API_KEY=fastgpt-your-actual-api-key-here
npm run start:sdk

# Linux/macOS
export FASTGPT_API_KEY="fastgpt-your-actual-api-key-here"
npm run start:sdk
```

### ç¬¬ä¸‰æ­¥ï¼šéªŒè¯é…ç½®

è®¿é—®å¥åº·æ£€æŸ¥æ¥å£ï¼š
```bash
curl http://localhost:3001/health
```

åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
```json
{
  "status": "ok",
  "message": "FastGPT SDKé£æ ¼æœåŠ¡å™¨è¿è¡Œæ­£å¸¸",
  "config": {
    "baseURL": "https://api.fastgpt.in",
    "hasApiKey": true
  }
}
```

### ç¬¬å››æ­¥ï¼šé…ç½®å·¥ä½œæµID

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:3001`ï¼Œç„¶ååœ¨æ§åˆ¶å°æ‰§è¡Œï¼š

```javascript
// é…ç½®é£æ ¼åˆ†æå·¥ä½œæµ
setMode("style")
setApiKey("fastgpt-your-style-api-key")
setWorkflowId("your-style-workflow-id")

// é…ç½®å†…å®¹ç”Ÿæˆå·¥ä½œæµ
setMode("content")
setApiKey("fastgpt-your-content-api-key")
setWorkflowId("your-content-workflow-id")

// æµ‹è¯•APIè¿æ¥
testApi()
```

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### å‰ç«¯è°ƒç”¨ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰

å‰ç«¯ä»£ç ç»§ç»­ä½¿ç”¨åŸæœ‰çš„APIè·¯å¾„ï¼š

```javascript
// é£æ ¼åˆ†æ
const response = await fetch('/api/fastgpt/workflow/run', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${apiKey}`
    },
    body: JSON.stringify({
        workflowId: workflowId,
        variables: variables
    })
});

// èŠå¤©å®Œæˆ
const response = await fetch('/api/fastgpt/v1/chat/completions', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${apiKey}`
    },
    body: JSON.stringify(requestBody)
});
```

### æœåŠ¡å™¨ç«¯åŠŸèƒ½

1. **å·¥ä½œæµæ‰§è¡Œ**ï¼š`POST /api/fastgpt/workflow/run`
2. **èŠå¤©å®Œæˆ**ï¼š`POST /api/fastgpt/v1/chat/completions`
3. **å¥åº·æ£€æŸ¥**ï¼š`GET /health`
4. **é…ç½®ç®¡ç†**ï¼š`POST /api/config`

## ğŸ” è°ƒè¯•åŠŸèƒ½

### æœåŠ¡å™¨æ—¥å¿—

æœåŠ¡å™¨ä¼šè¾“å‡ºè¯¦ç»†çš„è¯·æ±‚å’Œå“åº”æ—¥å¿—ï¼š

```
ğŸ”„ ä½¿ç”¨SDKé£æ ¼è°ƒç”¨å·¥ä½œæµ: your-workflow-id
ğŸ“ å˜é‡: { article_input: [...], url_input: [...] }
âœ… SDKé£æ ¼å·¥ä½œæµå“åº”: { ... }
```

### é”™è¯¯å¤„ç†

- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- HTTPçŠ¶æ€ç 
- å“åº”å†…å®¹é¢„è§ˆ
- é…ç½®çŠ¶æ€æ£€æŸ¥

## âš™ï¸ é«˜çº§é…ç½®

### è‡ªå®šä¹‰åŸºç¡€URL

å¦‚æœéœ€è¦ä½¿ç”¨ä¸åŒçš„FastGPTå®ä¾‹ï¼Œå¯ä»¥ä¿®æ”¹ `fastgpt-sdk-server.js` ä¸­çš„é…ç½®ï¼š

```javascript
const FASTGPT_CONFIG = {
    baseURL: 'https://your-custom-fastgpt-instance.com',
    apiKey: process.env.FASTGPT_API_KEY || 'your-api-key-here'
};
```

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
FASTGPT_API_KEY=fastgpt-your-actual-api-key-here
FASTGPT_BASE_URL=https://api.fastgpt.in
PORT=3001
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **APIå¯†é’¥æœªè®¾ç½®**
   - æ£€æŸ¥å¥åº·æ£€æŸ¥æ¥å£çš„ `hasApiKey` å­—æ®µ
   - ä½¿ç”¨é…ç½®è„šæœ¬æˆ–APIæ¥å£è®¾ç½®å¯†é’¥

2. **å·¥ä½œæµè°ƒç”¨å¤±è´¥**
   - éªŒè¯å·¥ä½œæµIDæ˜¯å¦æ­£ç¡®
   - æ£€æŸ¥APIå¯†é’¥æƒé™
   - æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

3. **ç½‘ç»œè¿æ¥é—®é¢˜**
   - ç¡®è®¤FastGPT APIæœåŠ¡æ­£å¸¸
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - éªŒè¯ç½‘ç»œè¿æ¥

### è°ƒè¯•å‘½ä»¤

```bash
# æµ‹è¯•æœåŠ¡å™¨è¿æ¥
curl http://localhost:3001/health

# æµ‹è¯•APIå¯†é’¥é…ç½®
curl -X POST http://localhost:3001/api/config \
  -H "Content-Type: application/json" \
  -d '{"apiKey": "test-key"}'

# æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
npm run start:sdk
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—è¾“å‡º
2. éªŒè¯APIå¯†é’¥å’Œå·¥ä½œæµID
3. ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
4. æŸ¥çœ‹FastGPTå®˜æ–¹æ–‡æ¡£

## ğŸ‰ é…ç½®å®Œæˆ

é…ç½®å®Œæˆåï¼Œä½ å°±å¯ä»¥ï¼š

1. âœ… è®¿é—® `http://localhost:3001` ä½¿ç”¨åº”ç”¨
2. âœ… ä¸Šä¼ æ–‡ä»¶è¿›è¡Œé£æ ¼åˆ†æ
3. âœ… ç”Ÿæˆç¬¦åˆè€æ¿é£æ ¼çš„å†…å®¹
4. âœ… äº«å—å®Œæ•´çš„FastGPTåŠŸèƒ½

ç°åœ¨å¼€å§‹ä½¿ç”¨ä½ çš„FastGPTçŸ¥è¯†åº“å§ï¼ 